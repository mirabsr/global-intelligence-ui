<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Intelligence Search</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&amp;display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Iconify -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    
    <!-- Three.js & GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050A14;
            color: #ffffff;
            margin: 0;
            overflow: hidden; /* Prevent scroll */
        }
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 0;
            background: radial-gradient(circle at center, #0F172A 0%, #020617 100%);
        }
        /* Custom Input Autofill Styling to match dark theme */
        input:-webkit-autofill,
        input:-webkit-autofill:hover, 
        input:-webkit-autofill:focus, 
        input:-webkit-autofill:active{
            -webkit-box-shadow: 0 0 0 30px #090e1a inset !important;
            -webkit-text-fill-color: white !important;
            transition: background-color 5000s ease-in-out 0s;
        }
        
        .glass-panel {
            background: rgba(5, 10, 20, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .gold-glow {
            box-shadow: 0 0 40px -10px rgba(245, 158, 11, 0.15);
        }
    </style>
</head>
<body class="antialiased selection:bg-amber-500/30 selection:text-amber-100 flex flex-col h-screen w-full items-center justify-center relative">

    <!-- 3D Background -->
    <div id="canvas-container"></div>

    <!-- UI Overlay -->
    <div class="relative z-10 w-full max-w-lg px-6 flex flex-col items-center">
        
        <!-- Label -->
        <div class="mb-6 flex flex-col items-center gap-3">
            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-amber-500/10 bg-amber-950/10 backdrop-blur-sm">
                <span class="relative flex h-1 w-1">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-1 w-1 bg-amber-500"></span>
                </span>
                <span class="text-xs text-amber-500/80 font-medium uppercase tracking-widest">Global Database</span>
            </div>
            <h1 class="text-3xl font-medium tracking-tight text-white drop-shadow-2xl">Enter Country Name</h1>
        </div>

        <!-- Search Input Component -->
        <div class="w-full relative group">
            <!-- Ambient Glow behind input -->
            <div class="absolute -inset-0.5 bg-gradient-to-r from-amber-500/20 via-zinc-500/10 to-amber-500/20 rounded-lg blur opacity-40 group-hover:opacity-75 transition duration-700"></div>
            
            <div class="relative flex items-center bg-[#090e1a] border border-white/10 rounded-lg p-1.5 shadow-2xl transition-all duration-300 focus-within:border-amber-500/30 focus-within:ring-1 focus-within:ring-amber-500/20">
                <div class="pl-3 pr-2 flex items-center justify-center text-zinc-500">
                    <iconify-icon icon="solar:earth-linear" width="20" height="20" stroke-width="1.5"></iconify-icon>
                </div>
                
                <input type="text" placeholder="e.g. Switzerland..." class="w-full bg-transparent border-none text-sm font-light text-white placeholder-zinc-600 focus:ring-0 focus:outline-none py-2 px-2 tracking-wide" autocomplete="off" spellcheck="false">

                <button class="flex items-center gap-2 bg-white/5 hover:bg-white/10 text-amber-500 border border-amber-500/20 hover:border-amber-500/40 px-4 py-2 rounded text-xs font-medium tracking-wider uppercase transition-all duration-300">
                    <span>Generate</span>
                    <iconify-icon icon="solar:arrow-right-linear" width="14" height="14" stroke-width="1.5"></iconify-icon>
                </button>
            </div>
        </div>

        <!-- Empty Dynamic Result Container -->
        <div class="mt-8 w-full glass-panel border border-white/5 rounded-xl min-h-[16rem] flex flex-col items-center justify-center text-center p-8 transition-all duration-500 opacity-90 hover:opacity-100 hover:border-white/10 gold-glow">
            <div class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center mb-4 border border-white/5">
                <iconify-icon icon="solar:gallery-wide-linear" class="text-zinc-600" width="18" height="18" stroke-width="1.5"></iconify-icon>
            </div>
            <span class="text-xs text-zinc-600 font-light tracking-widest uppercase">Visualization Area</span>
        </div>

    </div>

    <!-- Background Decoration -->
    <div class="fixed bottom-0 left-0 w-full h-32 bg-gradient-to-t from-[#050A14] to-transparent pointer-events-none z-0"></div>

    <script>
        // --------------------------------------------------------
        // THREE.JS SETUP (Preserved & Adapted)
        // --------------------------------------------------------
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x050A14, 0.02); 

        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100);
        // Positioned to center the globe perfectly behind the UI
        camera.position.set(0, 0, 16); 

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        container.appendChild(renderer.domElement);

        // GROUPS
        const universeGroup = new THREE.Group();
        const globeGroup = new THREE.Group();
        
        // Tilt the globe slightly for better aesthetic viewing angle
        globeGroup.rotation.z = 0.15; 
        globeGroup.rotation.x = 0.2;

        universeGroup.add(globeGroup);
        scene.add(universeGroup);

        // --- 1. STARS BACKGROUND ---
        const starsGeometry = new THREE.BufferGeometry();
        const starsCount = 2000;
        const posArray = new Float32Array(starsCount * 3);
        for(let i = 0; i < starsCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 90;
        }
        starsGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const starsMaterial = new THREE.PointsMaterial({
            size: 0.04,
            color: 0xffffff,
            transparent: true,
            opacity: 0.6
        });
        const starMesh = new THREE.Points(starsGeometry, starsMaterial);
        universeGroup.add(starMesh);


        // --- 2. EARTH ---
        const geometry = new THREE.SphereGeometry(5, 64, 64);
        const textureLoader = new THREE.TextureLoader();
        
        const earthTexture = textureLoader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_atmos_2048.jpg');
        const specTexture = textureLoader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_specular_2048.jpg');
        const normalTexture = textureLoader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_normal_2048.jpg');
        const lightsTexture = textureLoader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_lights_2048.png');
        const cloudsTexture = textureLoader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/planets/earth_clouds_1024.png');

        const material = new THREE.MeshPhongMaterial({
            map: earthTexture,
            specularMap: specTexture,
            normalMap: normalTexture,
            emissiveMap: lightsTexture,
            emissive: 0xffcc33, 
            emissiveIntensity: 0.7,
            color: 0x152030,
            specular: 0x555555,
            shininess: 15
        });
        const globe = new THREE.Mesh(geometry, material);
        globeGroup.add(globe);

        // --- 3. CLOUDS ---
        const cloudGeo = new THREE.SphereGeometry(5.06, 64, 64);
        const cloudMat = new THREE.MeshLambertMaterial({
            map: cloudsTexture,
            transparent: true,
            opacity: 0.3,
            blending: THREE.AdditiveBlending,
            side: THREE.DoubleSide
        });
        const cloudMesh = new THREE.Mesh(cloudGeo, cloudMat);
        globeGroup.add(cloudMesh);


        // --- 4. ATMOSPHERE GLOW ---
        const atmosphereGeo = new THREE.SphereGeometry(5.2, 64, 64);
        const atmosphereMat = new THREE.ShaderMaterial({
            vertexShader: `
                varying vec3 vNormal;
                void main() {
                    vNormal = normalize(normalMatrix * normal);
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                }
            `,
            fragmentShader: `
                varying vec3 vNormal;
                void main() {
                    float intensity = pow(0.55 - dot(vNormal, vec3(0, 0, 1.0)), 2.8);
                    gl_FragColor = vec4(0.96, 0.62, 0.04, 1.0) * intensity * 1.2;
                }
            `,
            blending: THREE.AdditiveBlending,
            side: THREE.BackSide,
            transparent: true
        });
        const atmosphere = new THREE.Mesh(atmosphereGeo, atmosphereMat);
        globeGroup.add(atmosphere);

        // --- 5. CONNECTIONS ---
        const connectionsGroup = new THREE.Group();
        globeGroup.add(connectionsGroup);

        const trafficParticles = []; 

        function latLonToVector3(lat, lon, radius) {
            const phi = (90 - lat) * (Math.PI / 180);
            const theta = (lon + 180) * (Math.PI / 180);
            const x = -(radius * Math.sin(phi) * Math.cos(theta));
            const z = (radius * Math.sin(phi) * Math.sin(theta));
            const y = (radius * Math.cos(phi));
            return new THREE.Vector3(x, y, z);
        }

        function createArc(startLat, startLon, endLat, endLon) {
            const start = latLonToVector3(startLat, startLon, 5);
            const end = latLonToVector3(endLat, endLon, 5);
            const dist = start.distanceTo(end);
            
            const mid = start.clone().add(end).multiplyScalar(0.5).normalize().multiplyScalar(5 + (dist * 0.25));
            
            const curve = new THREE.QuadraticBezierCurve3(start, mid, end);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            
            const material = new THREE.LineBasicMaterial({ 
                color: 0xffffff, 
                transparent: true, 
                opacity: 0.08 
            });
            const line = new THREE.Line(geometry, material);
            connectionsGroup.add(line);

            const particleGeo = new THREE.SphereGeometry(0.05, 8, 8);
            const particleMat = new THREE.MeshBasicMaterial({ color: 0xf59e0b });
            const particle = new THREE.Mesh(particleGeo, particleMat);
            connectionsGroup.add(particle);
            
            trafficParticles.push({
                mesh: particle,
                curve: curve,
                progress: Math.random()
            });
        }

        const cities = [
            {lat: 40.71, lon: -74.00}, {lat: 51.50, lon: -0.12},
            {lat: 35.68, lon: 139.69}, {lat: -33.86, lon: 151.20},
            {lat: -22.90, lon: -43.17}, {lat: 25.20, lon: 55.27},
            {lat: 1.35, lon: 103.81}, {lat: 48.85, lon: 2.35},
            {lat: 37.77, lon: -122.41}, {lat: 19.07, lon: 72.87},
            {lat: 55.75, lon: 37.61}, {lat: -26.20, lon: 28.04}
        ];

        for(let i=0; i<cities.length; i++) {
            for(let k=0; k<2; k++) {
                const targetIndex = (i + Math.floor(Math.random() * (cities.length - 1)) + 1) % cities.length;
                createArc(cities[i].lat, cities[i].lon, cities[targetIndex].lat, cities[targetIndex].lon);
            }
        }

        // City Markers
        cities.forEach(city => {
            const pos = latLonToVector3(city.lat, city.lon, 5.01);
            const markerGeo = new THREE.RingGeometry(0.04, 0.06, 32);
            const markerMat = new THREE.MeshBasicMaterial({ color: 0xf59e0b, side: THREE.DoubleSide });
            const marker = new THREE.Mesh(markerGeo, markerMat);
            marker.position.copy(pos);
            marker.lookAt(0,0,0);
            globeGroup.add(marker);
        });

        // --- LIGHTING ---
        const ambientLight = new THREE.AmbientLight(0x050505);
        scene.add(ambientLight);

        const sunLight = new THREE.DirectionalLight(0xffffff, 1.0);
        sunLight.position.set(10, 5, 10);
        scene.add(sunLight);
        
        const rimLight = new THREE.SpotLight(0xf59e0b, 6);
        rimLight.position.set(-10, 8, -5);
        rimLight.lookAt(0,0,0);
        scene.add(rimLight);

        // --- INTERACTION ---
        let mouseX = 0;
        let mouseY = 0;
        window.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        });

        // --- ANIMATION LOOP ---
        function animate() {
            requestAnimationFrame(animate);

            // Subtle base rotation
            globe.rotation.y += 0.0008;
            cloudMesh.rotation.y += 0.0011;
            atmosphere.rotation.y += 0.0008;

            // Traffic
            trafficParticles.forEach(p => {
                p.progress += 0.003;
                if(p.progress > 1) p.progress = 0;
                const point = p.curve.getPoint(p.progress);
                p.mesh.position.copy(point);
            });

            starMesh.rotation.y -= 0.0001;

            // Parallax effect based on mouse
            gsap.to(universeGroup.rotation, {
                x: mouseY * 0.05,
                y: mouseX * 0.05,
                duration: 1.5,
                ease: "power2.out"
            });
            
            // Also move position slightly for depth
            gsap.to(universeGroup.position, {
                x: mouseX * 0.2,
                y: mouseY * 0.2,
                duration: 1.5,
                ease: "power2.out"
            });

            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>

</body></html>